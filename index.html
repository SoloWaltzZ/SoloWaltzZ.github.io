<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoloWaltz - Programador de Roblox</title>
    
    <!-- Ícono de la Pestaña (Favicon) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🌙</text></svg>">

    <!-- Metatags para Previsualización de Enlaces (Open Graph) -->
    <meta property="og:title" content="SoloWaltz - Portafolio de Programador de Roblox">
    <meta property="og:description" content="Scripter experimental y creativo, enfocado en dar vida a mecánicas de juego únicas y efectos visuales (VFX) en Roblox. Disponible para comisiones.">
    <meta property="og:image" content="https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=1078236215&size=420x420&format=Png&isCircular=false">
    <meta property="og:url" content="https://solowaltzz.github.io/">
    <meta property="og:type" content="website">

    <!-- Metatags para Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="SoloWaltz - Portafolio de Programador de Roblox">
    <meta name="twitter:description" content="Scripter experimental y creativo, enfocado en dar vida a mecánicas de juego únicas y efectos visuales (VFX) en Roblox. Disponible para comisiones.">
    <meta name="twitter:image" content="https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=1078236215&size=420x420&format=Png&isCircular=false">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden; /* Evita el scroll mientras el telón está activo */
        }
        .glass-effect {
            background: rgba(99, 102, 241, 0.1); /* Indigo transparente */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(99, 102, 241, 0.2);
        }
        .glass-effect-gold {
            background: rgba(217, 119, 6, 0.1); /* Amber/Gold transparente */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(217, 119, 6, 0.25);
        }
        
        /* --- ESTILOS PARA EL VIDEO DE FONDO --- */
        #video-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -2;
        }
        .video-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(17, 24, 39, 0.7); /* Capa oscura semitransparente */
            z-index: -1;
        }

        /* --- ESTILOS PARA EL TELÓN --- */
        #curtain-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
            overflow: hidden;
        }
        .curtain {
            position: absolute;
            top: 0;
            width: 50%;
            height: 100%;
            background-color: #1e1b4b; /* Azul noche oscuro */
            background-image: linear-gradient(to right, rgba(0,0,0,0.2), transparent, rgba(0,0,0,0.2));
            transition: transform 1.5s cubic-bezier(0.65, 0, 0.35, 1);
        }
        #curtain-left {
            left: 0;
        }
        #curtain-right {
            right: 0;
        }
        #curtain-left.open {
            transform: translateX(-100%);
        }
        #curtain-right.open {
            transform: translateX(100%);
        }

        /* --- ESTILOS PARA LA CUERDA --- */
        #rope-container {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 60%;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: transform 1s ease-in-out;
        }
        #rope-container.pulled {
            transform: translate(-50%, -100%);
        }
        #rope {
            width: 5px;
            height: 100%;
            background-color: #f1f5f9; /* Color luna (slate-100) */
            box-shadow: 1px 0 5px rgba(255,255,255,0.5);
        }
        #tassel {
            width: 40px;
            height: 60px;
            background-color: #f1f5f9;
            border-radius: 50% 50% 10px 10px / 40% 40% 10px 10px;
            position: relative;
            top: -5px;
        }

        /* Ocultar el contenido principal al inicio */
        #main-content {
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.5s ease-in;
        }
    </style>
</head>
<body class="bg-gray-900 text-white antialiased">

    <!-- Video de Fondo y Capa Oscura -->
    <div class="video-overlay"></div>
    <video autoplay muted loop playsinline id="video-bg">
        <source src="https://res.cloudinary.com/dsfthqppb/video/upload/v1755378339/No_Copyright_Videos___Moon___Copyright_Free___Motion_Graphics___Motion_Background___Free_Video_Stock_goi0wd.mp4" type="video/mp4">
        Tu navegador no soporta videos HTML5.
    </video>

    <!-- =========== PANTALLA DE TELÓN =========== -->
    <div id="curtain-screen">
        <div id="curtain-left" class="curtain"></div>
        <div id="curtain-right" class="curtain"></div>
        <div id="rope-container">
            <div id="rope"></div>
            <div id="tassel"></div>
        </div>
    </div>

    <div id="main-content">
        <!-- Elemento de Audio -->
        <audio id="background-music" src="https://res.cloudinary.com/dsfthqppb/video/upload/v1755306251/L_amore_dice_ciao_Slow_Take_c1tiyn.mp3" loop></audio>

        <!-- Botón para controlar la música -->
        <button id="music-toggle" class="fixed bottom-5 right-5 z-50 p-3 bg-indigo-600/50 hover:bg-indigo-500/80 rounded-full text-white backdrop-blur-sm transition-colors duration-300 shadow-lg">
            <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><polygon points="6 3 20 12 6 21 6 3"/></svg>
            <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="14" y="4" width="4" height="16" rx="1"/><rect x="6" y="4" width="4" height="16" rx="1"/></svg>
        </button>

        <!-- Contenedor Principal -->
        <div class="container mx-auto max-w-5xl px-6 py-12">
            <header class="flex flex-col md:flex-row items-center justify-between mb-16">
                <div class="text-center md:text-left">
                    <h1 class="text-4xl md:text-5xl font-bold text-indigo-400">SoloWaltz</h1>
                    <p class="mt-2 text-xl text-gray-300">Scripter de Roblox</p>
                    
                    <div class="mt-6 max-w-lg space-y-4">
                        <div>
                            <h4 class="text-lg font-semibold text-indigo-300 tracking-wider">Mecánicas & VFX</h4>
                            <p class="text-gray-300">Construyo mecánicas de juego y pulo la experiencia con efectos visuales (VFX). Convierto ideas en funcionalidades tangibles.</p>
                        </div>
                        <!-- SECCIÓN DE EXPERIENCIA AÑADIDA -->
                        <div>
                            <h4 class="text-lg font-semibold text-indigo-300 tracking-wider">Experiencia</h4>
                            <p class="text-gray-300">Con aproximadamente 5 años creando experiencias en Roblox, he trabajado en diversos proyectos y perfeccionado mis habilidades.</p>
                        </div>
                        <div>
                            <h4 class="text-lg font-semibold text-indigo-300 tracking-wider">Disponibilidad</h4>
                            <p class="text-gray-300">Abierto a comisiones.</p>
                        </div>
                    </div>

                </div>
                <div class="mt-8 md:mt-0">
                    <img id="roblox-avatar" src="https://placehold.co/150x150/1F2937/FFFFFF?text=Cargando..." alt="Avatar Roblox" class="rounded-full border-4 border-gray-700 shadow-lg w-[150px] h-[150px]">
                </div>
            </header>

            <main>
                <section id="proyectos">
                    <h2 class="text-3xl font-bold text-center mb-10 border-b-2 border-indigo-500 pb-2 inline-block">Mis Proyectos Destacados</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        
                        <!-- Proyecto NUEVO -->
                        <div class="glass-effect-gold rounded-xl group transform hover:-translate-y-2 transition-transform duration-300 h-full flex flex-col">
                            <div class="p-6 flex-grow flex flex-col justify-between">
                                <div>
                                    <h3 class="text-2xl font-semibold text-amber-400">Juego sin nombre</h3>
                                    <p class="mt-2 text-gray-400">Un juego más actual acorde a mis habilidades, aunque sigue siendo un experimento.</p>
                                </div>
                                <a href="https://www.roblox.com/es/games/13696371563/Juego-sin-nombre" target="_blank" class="inline-block mt-4 bg-amber-600 hover:bg-amber-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-300 self-start">Jugar en Roblox &rarr;</a>
                            </div>
                        </div>

                        <!-- Proyecto 1 -->
                        <div class="glass-effect rounded-xl group transform hover:-translate-y-2 transition-transform duration-300 h-full flex flex-col">
                            <div class="p-6 flex-grow flex flex-col justify-between">
                                <div>
                                    <h3 class="text-2xl font-semibold text-indigo-400">Cazar</h3>
                                    <p class="mt-2 text-gray-400">Un juego de plataformas donde demuestro lo bien que se ven las partículas 3D.</p>
                                </div>
                                <a href="https://www.roblox.com/es/games/10457493046/cazar" target="_blank" class="inline-block mt-4 bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-300 self-start">Jugar en Roblox &rarr;</a>
                            </div>
                        </div>
                        <!-- Proyecto 2 -->
                        <div class="glass-effect rounded-xl group transform hover:-translate-y-2 transition-transform duration-300 h-full flex flex-col">
                            <div class="p-6 flex-grow flex flex-col justify-between">
                                <div>
                                    <h3 class="text-2xl font-semibold text-indigo-400">Sujetar Test</h3>
                                    <p class="mt-2 text-gray-400">Un juego que hice cuando aún no dominaba el código en su totalidad.</p>
                                </div>
                                <a href="https://www.roblox.com/es/games/6440727659/Sujetar-Test" target="_blank" class="inline-block mt-4 bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-300 self-start">Jugar en Roblox &rarr;</a>
                            </div>
                        </div>
                        <!-- Proyecto 3 -->
                        <div class="glass-effect rounded-xl group transform hover:-translate-y-2 transition-transform duration-300 h-full flex flex-col">
                           <div class="p-6 flex-grow flex flex-col justify-between">
                                <div>
                                    <h3 class="text-2xl font-semibold text-indigo-400">Test</h3>
                                    <p class="mt-2 text-gray-400">Un juego hecho en una cuenta alternativa, donde intenté recrear un sueño que tuve.</p>
                                </div>
                                <a href="https://www.roblox.com/es/games/90646300024435/test" target="_blank" class="inline-block mt-4 bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-300 self-start">Jugar en Roblox &rarr;</a>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="contacto" class="mt-20 text-center">
                    <h2 class="text-3xl font-bold mb-6">¿Hablamos?</h2>
                    <p class="text-gray-400 max-w-2xl mx-auto mb-8">Estoy disponible para comisiones y abierto a colaborar en proyectos interesantes.</p>
                    <div class="flex justify-center items-center space-x-6">
                        <span class="flex items-center space-x-2 text-lg text-indigo-400">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24" fill="currentColor"><path d="M20.317 4.36981C18.7915 3.58342 17.1197 3.00049 15.3532 2.64844C15.2422 2.92344 15.1422 3.22344 15.0532 3.54844C13.3347 3.24844 11.6497 3.24844 9.95972 3.54844C9.87072 3.22344 9.77072 2.92344 9.65972 2.64844C7.89322 3.00049 6.22147 3.58342 4.69602 4.36981C1.57727 7.73481 0.742969 11.2483 1.23672 14.5918C2.88297 16.0173 4.78272 16.9903 6.79347 17.6598C7.11222 17.2018 7.39797 16.7103 7.64997 16.1853C7.02497 15.9433 6.43347 15.6493 5.89122 15.3133C6.03222 15.2133 6.16222 15.1023 6.28722 14.9853C9.79197 16.2048 13.2082 16.2048 16.713 14.9853C16.838 15.1023 16.968 15.2133 17.109 15.3133C16.5667 15.6493 15.9752 15.9433 15.3502 16.1853C15.6022 16.7103 15.888 17.2018 16.2067 17.6598C18.2175 16.9903 20.1172 16.0173 21.7635 14.5918C22.3215 10.9593 21.35 7.52331 20.317 4.36981ZM8.02047 12.4228C7.33122 12.4228 6.76197 11.8093 6.76197 11.0668C6.76197 10.3258 7.33122 9.71081 8.02047 9.71081C8.70972 9.71081 9.27897 10.3258 9.26797 11.0668C9.26797 11.8093 8.70972 12.4228 8.02047 12.4228ZM14.9797 12.4228C14.2905 12.4228 13.7212 11.8093 13.7212 11.0668C13.7212 10.3258 14.2905 9.71081 14.9797 9.71081C15.669 9.71081 16.2382 10.3258 16.2272 11.0668C16.2272 11.8093 15.669 12.4228 14.9797 12.4228Z"/></svg>
                            <span>dr_waltz</span>
                        </span>
                    </div>
                </section>
            </main>
            <footer class="text-center text-gray-500 mt-20 border-t border-gray-800 pt-6">
                <p>&copy; 2024 SoloWaltz. Todos los derechos reservados.</p>
            </footer>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mainContent = document.getElementById('main-content');
            const music = document.getElementById('background-music');
            const curtainScreen = document.getElementById('curtain-screen');
            const curtainLeft = document.getElementById('curtain-left');
            const curtainRight = document.getElementById('curtain-right');
            const ropeContainer = document.getElementById('rope-container');
            
            ropeContainer.addEventListener('click', () => {
                openCurtains();
            }, { once: true });

            function openCurtains() {
                ropeContainer.classList.add('pulled');
                curtainLeft.classList.add('open');
                curtainRight.classList.add('open');
                
                playMusicWithFadeIn();

                setTimeout(() => {
                    mainContent.style.visibility = 'visible';
                    mainContent.style.opacity = '1';
                    document.body.style.overflow = 'auto';
                    
                    curtainLeft.addEventListener('transitionend', () => {
                        curtainScreen.remove();
                    }, { once: true });

                    fetchRobloxAvatar('1078236215');
                }, 500);
            }

            function playMusicWithFadeIn() {
                music.volume = 0;
                music.play().catch(error => console.error("El navegador bloqueó la reproducción automática:", error));

                let currentVolume = 0;
                const targetVolume = 0.2;
                const fadeAudioIn = setInterval(() => {
                    if (currentVolume < targetVolume) {
                        currentVolume += 0.025;
                        if (currentVolume > targetVolume) currentVolume = targetVolume;
                        music.volume = currentVolume;
                    } else {
                        clearInterval(fadeAudioIn);
                    }
                }, 100);
            }

            // --- FUNCIÓN DE AVATAR CON REINTENTOS ---
            async function fetchRobloxAvatar(userId) {
                const avatarImage = document.getElementById('roblox-avatar');
                const originalApiUrl = `https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=${userId}&size=150x150&format=Png&isCircular=true`;
                // Usamos un proxy para evitar problemas de CORS
                const proxyUrl = 'https://api.allorigins.win/get?url=';
                const apiUrl = proxyUrl + encodeURIComponent(originalApiUrl);

                try {
                    const response = await fetch(apiUrl);
                    if (!response.ok) throw new Error('No se pudo obtener la respuesta del proxy.');
                    const proxyData = await response.json();
                    const robloxData = JSON.parse(proxyData.contents);
                    if (robloxData.data && robloxData.data.length > 0) {
                        avatarImage.src = robloxData.data[0].imageUrl;
                    } else {
                        throw new Error('Usuario no encontrado o sin avatar.');
                    }
                } catch (error) {
                    console.error('Error al obtener el avatar, reintentando en 2 segundos...', error);
                    // Esperar 2 segundos antes de reintentar
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    fetchRobloxAvatar(userId); // Volver a intentar
                }
            }

            // --- CONTROL DE MÚSICA ---
            const toggleButton = document.getElementById('music-toggle');
            const playIcon = document.getElementById('play-icon');
            const pauseIcon = document.getElementById('pause-icon');
            toggleButton.addEventListener('click', () => {
                if (music.paused) {
                    music.play();
                    playIcon.classList.add('hidden');
                    pauseIcon.classList.remove('hidden');
                } else {
                    music.pause();
                    playIcon.classList.remove('hidden');
                    pauseIcon.classList.add('hidden');
                }
            });
        });
    </script>

</body>
</html>
